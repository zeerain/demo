<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>第五届雀巢健康科学营养论坛</title>
  <style>
    .loading-wrap {
      width: 100%;
      height: 100%;
      background-color: #fff;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 900;
    }
    .lds-hourglass {
      display: inline-block;
      position: relative;
      width: 64px;
      height: 64px;
      z-index: 999;
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      margin: auto;
    }
    .lds-hourglass:after {
      content: " ";
      display: block;
      border-radius: 50%;
      width: 0;
      height: 0;
      margin: 6px;
      box-sizing: border-box;
      border: 26px solid #5adbea;
      border-color: #5adbea transparent #5adbea transparent;
      animation: lds-hourglass 1.2s infinite;
    }
    @keyframes lds-hourglass {
      0% {
        transform: rotate(0);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
      }
      50% {
        transform: rotate(900deg);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
      }
      100% {
        transform: rotate(1800deg);
      }
    }
    .bgm-btn-wraper, .bgm-btn-wraper .bgm-btn {
      position: absolute;
      z-index: 200;
      width: 30px;
      height: 30px;
    }
    .bgm-btn-wraper {
        right: 8px;
        top: 8px;
        display: none;
    }
    .bgm-btn-wraper .bgm-btn.rotate {
        -webkit-animation: rotating 1.2s linear infinite;
        animation: rotating 1.2s linear infinite;
    }
    .bgm-btn-wraper .bgm-btn {
        right: 0;
        top: 0;
        border-radius: 15px;
        background-image: url('./images/bg/muc.svg');
        background-size: contain;
        background-repeat: no-repeat;
    }
    @-webkit-keyframes rotating{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}
    @keyframes rotating{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}
  </style>
</head>
<body>
   <div class="loading-wrap"><div class="lds-hourglass"></div></div> 
  <div id="bg-scene" class="bg" >
    <div class="left-icon" data-depth="0.3"></div>
    <div class="left-logo hide" data-depth="0.3"></div>
    <div class="right-icon" data-depth="0.3"></div>
    <div class="right-logo hide" data-depth="0.3"></div>
    <div class="mid-ball" data-depth="0.3"></div>
    <div class="right-ball" data-depth="0.3"></div>
    <div class="nf hide" data-depth="0.3"></div>
    <div class="center-invite-text hide" data-depth="0.1"></div>
    
    
  </div>
  <div class="bgm-btn-wraper" id="mmm" style="display: block;">
    <div class="bgm-btn rotate" style="animation-play-state: running;">
      <audio loop="true" src="./images/bg/666.mp3" id="muc" autoplay preload="auto"></audio>
    </div>
  </div>


    <div class="wp">
        <div class="wp-inner">
          <div class="page" id="scene">
              <div class="ball js-animate hide" data-animate="slideUp" data-time="0"  data-depth="0.9"></div>
              <div class="center-invite-bg" data-depth="0.6"></div>
              <div class="center-invite js-animate hide" data-animate="slideRight" data-time="0" data-depth="0.6">
                <div class="center-invite-en"></div>
              </div>
              <div class="center-invite-text js-animate hide" data-animate="slideLeft" data-time="0" data-depth="0.4"></div>
          </div>
          <div class="page" id="scene2">
              <div class="bar js-animate hide" data-animate="slideUp" data-time="0"  data-depth="0.9"></div>
              <div class="bar-t js-animate hide" data-animate="slideDown" data-time="0"  data-depth="0.9"></div>
              <div class="yuan js-animate hide" data-animate="slideLeft" data-time="0"  ></div>
              <div class="yuan-right js-animate hide" data-animate="slideLeft" data-time="0"></div>
              <div class="two1 js-animate hide" data-animate="slideLeft" data-time="100"></div>
              <div class="two2 js-animate hide" data-animate="slideLeft" data-time="300"></div>
              <div class="two3 js-animate hide" data-animate="slideLeft" data-time="800"></div>
          </div>
          <div class="page" id="scene3">
              <div class="bar js-animate hide" data-animate="slideUp" data-time="0"  data-depth="0.9"></div>
              <div class="bar-t js-animate hide" data-animate="slideDown" data-time="0"  data-depth="0.9"></div>
              <div class="three js-animate hide" data-animate="pullUp" data-time="100"></div>
              <div class="three1 js-animate hide" data-animate="pullDown" data-time="300"></div>
              <div class="three2 js-animate hide" data-animate="slideDown" data-time="800"></div>
          </div>
          <div class="page" id="scene4">
            <div class="bar js-animate hide" data-animate="slideUp" data-time="0"  data-depth="0.9"></div>
            <div class="bar-t js-animate hide" data-animate="slideDown" data-time="0"  data-depth="0.9"></div>
            <div class="y1 js-animate hide" data-animate="slideRight" data-time="0"  ></div>
            <div class="y1-right js-animate hide" data-animate="slideLeft" data-time="0"></div>
            <div class="f1 js-animate hide" data-animate="slideLeft" data-time="100"></div>
            <div class="f2 js-animate hide" data-animate="slideLeft" data-time="600"></div>
            <div class="f3 js-animate hide" data-animate="slideLeft" data-time="1100"></div>
          </div>
          <div class="page" id="scene5">
            <div class="bar js-animate hide" data-animate="slideUp" data-time="0"  data-depth="0.9"></div>
            <div class="fi0 js-animate hide" data-animate="pullUp" data-time="0"></div>
            <div class="fi1 js-animate hide" data-animate="slideLeft" data-time="100"></div>
            <div class="fi2 js-animate hide" data-animate="slideLeft" data-time="400"></div>
            <div class="fi3 js-animate hide" data-animate="slideDown" data-time="900"></div>
            <div class="fi4 js-animate hide" data-animate="slideDown" data-time="1500"></div>
          </div>
          <div class="page" id="scene6">
            <div class="bar js-animate hide" data-animate="slideUp" data-time="0"  data-depth="0.9"></div>
            <div class="s0 js-animate hide" data-animate="pullUp" data-time="0"></div>
            <div class="s1 js-animate hide" data-animate="slideLeft" data-time="300"></div>
            <div class="s2 js-animate hide" data-animate="slideLeft" data-time="600"></div>
            <div class="s4 js-animate hide" data-animate="bounce" data-time="1200"></div>
          </div>

          <div class="page" id="scene7">
            <div class="inner7"> 
              <div class="pli js-animate hide" data-animate="slideRight" data-time="0">
                <div class="pli-l pli1"></div>
                <div class="pli-r pli12"></div>
              </div>
              <div class="pli js-animate hide" data-animate="slideLeft" data-time="400">
                <div class="pli-r pli22"></div>
                <div class="pli-l pli2"></div>
              </div>
              <div class="pli js-animate hide" data-animate="slideRight" data-time="900">
                  <div class="pli-l pli3"></div>
                  <div class="pli-r pli32"></div>
              </div>
              <div class="pli js-animate hide" data-animate="slideLeft" data-time="1300">
                  <div class="pli-r pli42"></div>
                  <div class="pli-l pli4"></div>
              </div>
            </div>
          </div>

          <div class="page" id="scene8">
            <div class="inner8">
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="0">
                <div class="eli-l eli1"></div>
                <div class="eli-r eli12x"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="100">
                <div class="eli-l eli2"></div>
                <div class="eli-r eli22"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="200">
                <div class="eli-l eli3"></div>
                <div class="eli-r eli32"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="300">
                <div class="eli-l eli4"></div>
                <div class="eli-r eli42"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="400">
                <div class="eli-l eli5"></div>
                <div class="eli-r eli52"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="500">
                <div class="eli-l eli6"></div>
                <div class="eli-r eli62"></div>
              </div>
            </div>
          </div>

          <div class="page">
            <div class="inner8">
               <div class="eli js-animate hide" data-animate="slideLeft" data-time="0">
                <div class="eli-l eli7"></div>
                <div class="eli-r eli72"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="100">
                <div class="eli-l eli8"></div>
                <div class="eli-r eli82"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="200">
                <div class="eli-l eli9"></div>
                <div class="eli-r eli92"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="300">
                <div class="eli-l eli10"></div>
                <div class="eli-r eli102"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="400">
                <div class="eli-l eli11"></div>
                <div class="eli-r eli112"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="500">
                <div class="eli-l eli12"></div>
                <div class="eli-r eli122"></div>
              </div>

            </div>
          </div>
          <div class="page">
            <div class="inner8">        
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="0">
                <div class="eli-l eli13"></div>
                <div class="eli-r eli132"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="100">
                <div class="eli-l eli14"></div>
                <div class="eli-r eli142"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="200">
                <div class="eli-l eli15"></div>
                <div class="eli-r eli152"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="300">
                <div class="eli-l eli16"></div>
                <div class="eli-r eli162"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="400">
                <div class="eli-l eli17"></div>
                <div class="eli-r eli172"></div>
              </div>
              <div class="eli js-animate hide" data-animate="slideLeft" data-time="500">
                  <div class="eli-l eli18"></div>
                  <div class="eli-r eli182"></div>
              </div>
             
            </div>
          </div>

          <div class="page" id="scene9">
             <div class="pp1 js-animate hide" data-animate="slideUp" data-time="0"></div>
             <div class="pp2 js-animate hide" data-animate="slideUp" data-time="0"></div>
             <div class="pp3 js-animate hide" data-animate="slideUp" data-time="0"></div>
             <div class="pp4 js-animate hide" data-animate="slideUp" data-time="0"></div>
             <div class="pp5 js-animate hide" data-animate="slideUp" data-time="0"></div>
             <div class="pp6 js-animate hide" data-animate="slideUp" data-time="0"></div>
             <div class="pp7 js-animate hide" data-animate="slideUp" data-time="0"></div>
             <div class="pp8 js-animate hide" data-animate="slideUp" data-time="0"></div>
          </div>

          <div class="page" id="scene10">
              <div class="uu1 js-animate hide" data-animate="slideDown" data-time="0"></div>
              <div class="uu2 js-animate hide" data-animate="slideDown" data-time="0"></div>
              <div class="uu3 js-animate hide" data-animate="slideDown" data-time="0"></div>
              <div class="uu4 js-animate hide" data-animate="slideDown" data-time="0"></div>
              <div class="uu5 js-animate hide" data-animate="slideDown" data-time="0"></div>
              <div class="diqiu js-animate hide" data-animate="slideLeft" data-time="0"></div>
           </div>

        </div>
    </div>
    <script src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <!-- <script src="bundle.js"></script> -->
    <script>  
      //分享
      function weixinShare(attr){
          var wxconfig1 = {
              title: attr.title,
              link: attr.base,
              success:wxshare,
              imgUrl:attr.imgurl,
              success: function(){
              }
          };
          var wxconfig2 = {
              title: attr.title,
              desc: attr.desc,
              link: attr.base,
              success:wxshare,
              imgUrl:attr.imgurl,
              success: function(){
              }
          }
          function wxshare() {
              return false;
          }
          var uri = location.href.split("#")[0];
          var path = uri.split("?")[0];
          var query = uri.split("?")[1];
          uri = path + (query ? ("?" + encodeURIComponent(query)) : "");
          var param = {
              action: "get_wxconfig",
                  data: {
                      url: uri
                  }
            }
          
          $.ajax({
              url: 'http://wemall.duoshouus.com/api',
              //  据我测试了多次，payload只能用于POST方式
              method:'POST',
              contentType:"application/json; charset=utf-8",
              dataType:"json",
              //  数据必须转换为字符串
              data:  JSON.stringify(param),
              success : function(data) {
                  var apilist = [
                      'onMenuShareTimeline',
                      'onMenuShareAppMessage'
                  ];
                  wx.config({
                      debug: false,
                      appId: data.data.appId,
                      timestamp: data.data.timestamp,
                      nonceStr: data.data.nonceStr,
                      signature: data.data.signature,
                      jsApiList: apilist
                  });
                  wx.error(function(res) {
                      //alert(JSON.stringify(res));
                  });
              }
          })

           
          wx.ready(function () {
            if(attr.startAudioBg){
                attr.startAudioBg();
            }
            wx.onMenuShareTimeline(wxconfig1);
            wx.onMenuShareAppMessage(wxconfig2);
          });  
      }
      
      //微信分享设置
      weixinShare({
          base : location.href.split("#")[0],
          title : "第五届雀巢健康科学营养论坛",
          desc : "第五届雀巢健康科学营养论坛 诚邀……",
          imgurl : "http://h5.aiddz.com/demo/images/bg/share.jpg",
          startAudioBg : function(){
              //播放音乐等
          }
      })
	    

    </script>
    <script>
      $(document).ready(function(){
        function loadScript(src, callback) {
          var script = document.createElement('script'),
            head = document.getElementsByTagName('head')[0];
            script.src = src;
            if (script.addEventListener) {
              script.addEventListener('load', function () {
                callback();
              }, false);
            } else if (script.attachEvent) {
              script.attachEvent('onreadystatechange', function () {
                var target = window.event.srcElement;
                if (target.readyState == 'loaded') {
                  callback();
                }
              });
            }
            head.appendChild(script);
        }
        function bf(){
          var audio = document.getElementById('muc'); 
          if(audio!==null){             
              //检测播放是否已暂停.audio.paused 在播放器播放时返回false.
              // alert(audio.paused);
            if(audio.paused) {                 
                $('.bgm-btn').addClass('rotate')
                audio.play();
            }else{
              $('.bgm-btn').removeClass('rotate')
              audio.pause();// 这个就是暂停
            }
          } 
        }
        

        loadScript('./dist/bundle.js', function() {
          $('.loading-wrap').remove()
        })
        // $('#mmm').click();
        $('#mmm').click(function(){
          bf();
        })
      })
    </script>
</body>
</html>